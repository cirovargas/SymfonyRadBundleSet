<?php

namespace {{ namespace }}\Services{{ entity_namespace ? '\\' ~ entity_namespace : '' }};

use Doctrine\ORM\EntityManager;
use {{ namespace }}\Entity\{{ entity_class }};

class {{ form_class }} 
{
    
    protected $entityManager;
    protected $repository;

    public function __construct(EntityManager $em){
    
        $this->objectManager = $em;
        $this->repository = $em->getRepository($this->getClass());
    
    }

    /**
    * @return \{{ namespace }}\Entity\{{ entity_class }}
    */
    public function create()
    {
        $class = $this->getClass();

        return new $class;
    }
    
    public function validate({{ entity_class }} $entity)
    {
        return true;
    }
    
    public function getClass()
    {
        return '{{ namespace }}\Entity\{{ entity_class }}';
    }
    
    public function getRepository()
    {
        return $this->repository;
    }
    
    
}